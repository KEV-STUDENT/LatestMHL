<Window x:Class="MHLSourceScanner.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"        
        xmlns:MHLControls="clr-namespace:MHLControls;assembly=MHLControls"
        xmlns:MHLUIElements="clr-namespace:MHLUIElements;assembly=MHLUIElements"
        mc:Ignorable="d"
        Title="MainWindow" Height="450" Width="800" x:Name="Scanner">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="40"/>
            <RowDefinition Height="80"/>
            <RowDefinition/>
            <RowDefinition Height="{Binding ElementName=SourceDirectoryTree, Path=ViewModel.AnnotationSectionHeigh}"/>
        </Grid.RowDefinitions>

        <Grid.ColumnDefinitions>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>
        <Grid Grid.Row="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="40"/>
                <RowDefinition Height="40"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="{Binding ElementName=SourceDirectoryPicker, Path=CaptionWidth}"/>
                <ColumnDefinition Width="130"/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>
            <MHLControls:MHLLabel Content="Destination" Margin="0,5,0,0" Grid.Row="0" Grid.Column="0"/>
            <MHLControls:DirectoryPicker x:Name="DestinationDirectoryPicker" Margin="0,5,0,0" Grid.Row="0" Grid.Column="2" IsEnabled="{Binding ElementName=Scanner, Path=ViewModel.DestinationIsDirectory}"/>
            <MHLControls:DirectoryPicker x:Name="DestinationDBPicker" Margin="0,5,0,0" Grid.Row="1" Grid.Column="2" IsEnabled="{Binding ElementName=Scanner, Path=ViewModel.DestinationIsDBFile}"/>
            <MHLControls:MHLRadioButton GroupName="Destination" x:Name="DestinationDirectory" Margin="0,5,0,0" Grid.Row="0" Grid.Column="1" Content="Directory"
                                        IsChecked="{Binding ElementName=Scanner, Path=ViewModel.DestinationIsDirectory}"/>
            <MHLControls:MHLRadioButton GroupName="Destination" x:Name="DestinationDBFile" Margin="0,5,0,0" Grid.Row="1" Grid.Column="1" Content="Data Base File"
                                        IsChecked="{Binding ElementName=Scanner, Path=ViewModel.DestinationIsDBFile}"/>
        </Grid>

        <MHLControls:DirectoryPicker x:Name="SourceDirectoryPicker" Grid.Row="0" Grid.Column="0" Margin="0,5,0,0"/>
        <MHLUIElements:SourceTree x:Name="SourceDirectoryTree" Grid.Row="2" Grid.Column="3" Margin="5,0,5,5" />
        <DockPanel x:Name="CoverSection" Grid.Row="3" Grid.Column="0" Margin="5,5,5,5">
            <Image Source="{Binding ElementName=SourceDirectoryTree, Path=ViewModel.Cover}" Width="100"/>
            <DockPanel x:Name="AnnotationSection" >
                <MHLControls:MHLTextBlock x:Name="Authors" Text="{Binding ElementName=SourceDirectoryTree, Path=ViewModel.Authors}" DockPanel.Dock="Top"
                                                  MaxHeight="20" Margin="5,0,5,5" FontWeight="Bold"/>
                <ScrollViewer Margin="5,0,5,5" DockPanel.Dock="Bottom">
                    <MHLControls:MHLTextBlock x:Name="AnnotationText" Text="{Binding ElementName=SourceDirectoryTree, Path=ViewModel.Annotation}" />
                </ScrollViewer>
            </DockPanel>
        </DockPanel>
    </Grid>
</Window>
